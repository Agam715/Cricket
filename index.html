<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>IPTV Player</title>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
  body {
    margin:0;
    background:#000;
    font-family:Arial, sans-serif;
    color:#00ff55;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:20px;
  }

  h1 {
    margin-top:0;
    color:#00ff55;
    text-shadow:0 0 10px #00ff55;
  }

  .channel-list {
    display:flex;
    gap:15px;
    margin-bottom:20px;
    flex-wrap:wrap;
    justify-content:center;
  }

  .channel-btn {
    padding:10px 18px;
    border:2px solid #00ff55;
    background:#001a0d;
    color:#00ff55;
    font-weight:bold;
    border-radius:8px;
    cursor:pointer;
    box-shadow:0 0 10px #00ff55aa;
  }

  .channel-btn:hover {
    background:#003d1a;
  }

  video {
    width:100%;
    max-width:900px;
    height:60vh;
    background:#000;
    border:2px solid #00ff55;
    border-radius:12px;
    box-shadow:0 0 20px #00ff55aa;
  }
</style>
</head>

<body>

<h1>Live IPTV Player</h1>

<div class="channel-list">
  <div class="channel-btn" onclick="playChannel(1)">Star Sports 2</div>
  <div class="channel-btn" onclick="playChannel(2)">Sony TEN 3 - HINDI</div>
</div>

<video id="video" controls autoplay muted playsinline></video>

<script>
  const CHANNELS = {
    1: "https://iptv-agam.onrender.com/hls/ss2/playlist.m3u8",
    2: "https://iptv-agam.onrender.com/hls/ten3/playlist.m3u8"
  };

  const video = document.getElementById("video");
  let hls;

  function playChannel(id){
    const url = CHANNELS[id];

    if (hls) {
      hls.destroy();
    }

    if (Hls.isSupported()) {
      hls = new Hls();
      hls.loadSource(url);
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED, () => {
        video.play().catch(()=>{});
      });
    } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
      video.src = url;
      video.play().catch(()=>{});
    }
  }

  // Auto-load Star Sports 2
  playChannel(1);
</script>

</body>
</html>
